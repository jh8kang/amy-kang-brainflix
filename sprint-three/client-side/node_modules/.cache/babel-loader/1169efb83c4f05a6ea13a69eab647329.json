{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/amykang/Desktop/BrainStation/Projects/amy-kang-brainflix/sprint-two/src/pages/HomePage/HomePage.js\";\nimport React, { Component } from 'react';\nimport Main from '../../components/Main/Main';\nimport './HomePage.scss';\nimport axios from 'axios'; // import {BrowserRouter, Route, Switch} from 'react-router-dom'\n\nlet firstVideoId = '1af0jruup5gu';\nlet apiKey = '?api_key=c4f92712-c6b3-47a0-abb5-1c487b16a781';\nlet url = 'https://project-2-api.herokuapp.com/videos/';\n\nclass HomePage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      currentVideo: {\n        comments: [{\n          comment: \"\"\n        }]\n      },\n      videoList: []\n    };\n    this.submitHandler = this.submitHandler.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(url + apiKey).then(res => {\n      // console.log(res.data)\n      this.setState({\n        videoList: res.data\n      });\n    });\n    axios.get(url + firstVideoId + apiKey).then(res => {\n      // console.log(res.data)\n      this.setState({\n        currentVideo: res.data\n      });\n    });\n  }\n\n  getNewComments(currentVideoId) {\n    axios.get(url + currentVideoId + apiKey).then(res => {\n      console.log(res.data.comments);\n    });\n  }\n\n  submitHandler(e, currentVideoId) {\n    e.preventDefault();\n    let newComment = {\n      name: \"no one\",\n      comment: e.target.commentInput.value\n    };\n    let currentVideoState = this.state.currentVideo; // console.log(currentVideoState)\n\n    let currentVideoComments = this.state.currentVideo.comments;\n    console.log(currentVideoComments);\n    axios.post(url + currentVideoId + '/comments' + apiKey, newComment).then(res => {// console.log(res.data)\n    }); // this.getNewComments(currentVideoId)\n\n    let commentForm = document.querySelector('.comment-form');\n    commentForm.reset();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      match\n    } = this.props;\n\n    if (typeof match.params.videoId !== 'undefined') {\n      if (match.params.videoId !== this.state.currentVideo.id) {\n        axios.get(url + match.params.videoId + apiKey).then(res => {\n          this.setState({\n            currentVideo: res.data\n          });\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Main, {\n        submitHandler: this.submitHandler,\n        currentVideo: this.state.currentVideo,\n        videoList: this.state.videoList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/amykang/Desktop/BrainStation/Projects/amy-kang-brainflix/sprint-two/src/pages/HomePage/HomePage.js"],"names":["React","Component","Main","axios","firstVideoId","apiKey","url","HomePage","constructor","state","currentVideo","comments","comment","videoList","submitHandler","bind","componentDidMount","get","then","res","setState","data","getNewComments","currentVideoId","console","log","e","preventDefault","newComment","name","target","commentInput","value","currentVideoState","currentVideoComments","post","commentForm","document","querySelector","reset","componentDidUpdate","prevProps","prevState","match","props","params","videoId","id","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport Main from '../../components/Main/Main';\nimport './HomePage.scss';\nimport axios from 'axios'\n// import {BrowserRouter, Route, Switch} from 'react-router-dom'\n\n\n\nlet firstVideoId = '1af0jruup5gu';\n\nlet apiKey = '?api_key=c4f92712-c6b3-47a0-abb5-1c487b16a781';\nlet url ='https://project-2-api.herokuapp.com/videos/';\n\n\n\nclass HomePage extends Component {\n    constructor(){\n        super();\n        this.state = {\n            currentVideo: {comments: [{comment: \"\"}]},\n            videoList: []\n          } \n        this.submitHandler = this.submitHandler.bind(this);\n    }\n   \n      componentDidMount() {\n        axios.get(url + apiKey)\n        .then(res => {\n            // console.log(res.data)\n            this.setState({\n                videoList: res.data,\n            })\n        })\n        axios.get(url + firstVideoId + apiKey)\n        .then(res=> {\n            // console.log(res.data)\n            this.setState({\n                currentVideo: res.data\n            })\n        })\n\n    }\n\n    getNewComments(currentVideoId) {\n        axios.get(url + currentVideoId + apiKey)\n        .then(res => {\n            console.log(res.data.comments)\n\n        })\n\n    }\n    submitHandler(e, currentVideoId) {\n        e.preventDefault();\n        let newComment = {\n            name: \"no one\",\n            comment: e.target.commentInput.value\n        }\n        let currentVideoState = this.state.currentVideo;\n        // console.log(currentVideoState)\n        let currentVideoComments = this.state.currentVideo.comments; \n        console.log(currentVideoComments)\n\n        axios.post((url + currentVideoId + '/comments' + apiKey), newComment)\n        .then(res=> {\n            // console.log(res.data)\n        })\n        // this.getNewComments(currentVideoId)\n\n        let commentForm = document.querySelector('.comment-form');\n        commentForm.reset();\n\n    }\n    \n\n    componentDidUpdate(prevProps, prevState) {\n            const {match} = this.props\n            if (typeof match.params.videoId !== 'undefined') {\n                if (match.params.videoId !== this.state.currentVideo.id) {\n                    axios.get(url + match.params.videoId + apiKey)\n                    .then(res=> {\n                        this.setState({\n                            currentVideo: res.data,\n                        })\n                })\n                } \n            } \n        }\n      \n\n    render() {\n        return (\n            <>\n                <Main submitHandler={this.submitHandler}currentVideo={this.state.currentVideo} videoList={this.state.videoList}/>\n            </>\n        )\n    }\n}\n\n\nexport default HomePage"]},"metadata":{},"sourceType":"module"}