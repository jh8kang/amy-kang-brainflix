{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/amykang/Desktop/BrainStation/Projects/amy-kang-brainflix/sprint-two/src/components/HomePage/HomePage.js\";\nimport React, { Component } from 'react';\nimport './HomePage.scss';\nimport axios from 'axios';\nimport MainVideo from '../MainVideo/MainVideo';\nimport NextVideos from '../NextVideos/NextVideos';\nimport Comments from '../Comments/Comments';\nimport Content from '../Content/Content';\nlet firstVideoId = '1af0jruup5gu';\nlet apiKey = '?api_key=c4f92712-c6b3-47a0-abb5-1c487b16a781';\nlet url = 'https://project-2-api.herokuapp.com/videos/';\n\nclass HomePage extends Component {\n  constructor() {\n    super();\n\n    this.renderMain = id => {\n      if (typeof id !== 'undefined') {\n        if (id !== this.state.currentVideo.id) {\n          axios.get(url + id + apiKey).then(res => {\n            this.setState({\n              currentVideo: res.data\n            });\n          }).catch(err => console.log(err));\n        }\n      }\n    };\n\n    this.state = {\n      currentVideo: {\n        comments: [{\n          comment: \"\"\n        }]\n      },\n      videoList: []\n    };\n    this.submitHandler = this.submitHandler.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(url + apiKey).then(res => {\n      this.setState({\n        videoList: res.data\n      });\n    });\n    axios.get(url + firstVideoId + apiKey).then(res => {\n      this.setState({\n        currentVideo: res.data\n      });\n    });\n  }\n\n  submitHandler(e, currentVideoId) {\n    e.preventDefault();\n    let newComment = {\n      name: \"BrainStation user\",\n      comment: e.target.commentInput.value\n    };\n    axios.post(url + currentVideoId + '/comments' + apiKey, newComment, {\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(res => {\n      console.log(res);\n      let currentVideoState = this.state.currentVideo;\n      let videoNewComments = this.state.currentVideo.comments;\n      videoNewComments.push(res.data);\n      currentVideoState.comments = videoNewComments;\n      this.setState({\n        currentVideo: currentVideoState\n      });\n    }).catch(err => console.log(err));\n    this.renderMain(currentVideoId); // let currentVideoState = this.state.currentVideo;\n    // let newVideoComments = this.state.currentVideo.comments; \n    // newVideoComments.push(newComment)\n    // currentVideoState.comments = newVideoComments;\n    // this.setState({\n    //     currentVideo: currentVideoState,\n    // })\n\n    let commentForm = document.querySelector('.comment-form');\n    commentForm.reset();\n  }\n\n  componentDidUpdate() {\n    const {\n      match\n    } = this.props;\n    this.renderMain(match.params.videoId); // console.log(this.state.currentVideo.comments)\n    // if (typeof match.params.videoId !== 'undefined') {\n    //     if (match.params.videoId !== this.state.currentVideo.id) {\n    //         axios.get(url + match.params.videoId + apiKey)\n    //         .then(res=> {\n    //             this.setState({\n    //                 currentVideo: res.data,\n    //             })\n    //         })\n    //         .catch(err => console.log(err))\n    //     } \n    // } \n  }\n\n  render() {\n    // console.log(this.state.currentVideo.comments)\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(MainVideo, {\n        currentVideo: this.state.currentVideo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main__content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main__content-texts\",\n          children: [/*#__PURE__*/_jsxDEV(Content, {\n            currentVideo: this.state.currentVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Comments, {\n            submitHandler: this.submitHandler,\n            currentVideo: this.state.currentVideo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(NextVideos, {\n          videoList: this.state.videoList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/amykang/Desktop/BrainStation/Projects/amy-kang-brainflix/sprint-two/src/components/HomePage/HomePage.js"],"names":["React","Component","axios","MainVideo","NextVideos","Comments","Content","firstVideoId","apiKey","url","HomePage","constructor","renderMain","id","state","currentVideo","get","then","res","setState","data","catch","err","console","log","comments","comment","videoList","submitHandler","bind","componentDidMount","e","currentVideoId","preventDefault","newComment","name","target","commentInput","value","post","headers","currentVideoState","videoNewComments","push","commentForm","document","querySelector","reset","componentDidUpdate","match","props","params","videoId","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport './HomePage.scss';\nimport axios from 'axios'\nimport MainVideo from '../MainVideo/MainVideo'\nimport NextVideos from '../NextVideos/NextVideos'\nimport Comments from '../Comments/Comments';\nimport Content from '../Content/Content';\n\nlet firstVideoId = '1af0jruup5gu';\nlet apiKey = '?api_key=c4f92712-c6b3-47a0-abb5-1c487b16a781';\nlet url ='https://project-2-api.herokuapp.com/videos/';\n\n\nclass HomePage extends Component {\n    constructor(){\n        super();\n        this.state = {\n            currentVideo: {comments: [{comment: \"\"}]},\n            videoList: []\n          } \n        this.submitHandler = this.submitHandler.bind(this);\n    }\n\n      componentDidMount() {\n        axios.get(url + apiKey)\n        .then(res => {\n            this.setState({\n                videoList: res.data,\n            })\n        })\n        axios.get(url + firstVideoId + apiKey)\n        .then(res=> {\n            this.setState({\n                currentVideo: res.data\n            })\n        })\n    }\n\n    renderMain= (id) => {\n        if (typeof id !== 'undefined') {\n                if (id !== this.state.currentVideo.id) {\n                    axios.get(url + id + apiKey)\n                    .then(res=> {\n                        this.setState({\n                            currentVideo: res.data,\n                        })\n                    })\n                    .catch(err => console.log(err))\n\n                } \n            } \n    }\n\n    submitHandler(e, currentVideoId) {\n        e.preventDefault();\n        let newComment = {\n            name: \"BrainStation user\",\n            comment: e.target.commentInput.value\n        }\n\n        axios.post((url + currentVideoId + '/comments' + apiKey), newComment, {headers: {'content-type': 'application/json'}})\n        .then(res=> {\n            console.log(res)\n            let currentVideoState = this.state.currentVideo; \n            let videoNewComments = this.state.currentVideo.comments;\n            videoNewComments.push(res.data);\n            currentVideoState.comments = videoNewComments;\n            this.setState({\n                currentVideo: currentVideoState,\n            })\n        })\n        .catch(err => console.log(err))\n        this.renderMain(currentVideoId)\n\n        // let currentVideoState = this.state.currentVideo;\n        // let newVideoComments = this.state.currentVideo.comments; \n        // newVideoComments.push(newComment)\n        // currentVideoState.comments = newVideoComments;\n        // this.setState({\n        //     currentVideo: currentVideoState,\n        // })\n        let commentForm = document.querySelector('.comment-form');\n        commentForm.reset();\n    }\n    \n\n    \n    componentDidUpdate() {\n            const {match} = this.props\n            this.renderMain(match.params.videoId)\n            // console.log(this.state.currentVideo.comments)\n            // if (typeof match.params.videoId !== 'undefined') {\n            //     if (match.params.videoId !== this.state.currentVideo.id) {\n            //         axios.get(url + match.params.videoId + apiKey)\n            //         .then(res=> {\n            //             this.setState({\n            //                 currentVideo: res.data,\n            //             })\n            //         })\n            //         .catch(err => console.log(err))\n\n            //     } \n            // } \n        }\n      \n\n    render() {\n        // console.log(this.state.currentVideo.comments)\n        return (\n            <main className=\"main\">\n                <MainVideo currentVideo = {this.state.currentVideo} />\n                <div className=\"main__content\">\n                    <div className = \"main__content-texts\">\n                        <Content currentVideo = {this.state.currentVideo}/>\n                        <Comments submitHandler={this.submitHandler} currentVideo={this.state.currentVideo} />\n                    </div>\n                    <NextVideos videoList={this.state.videoList} />\n                </div>\n            </main>\n        )\n    }\n}\n\n\nexport default HomePage"]},"metadata":{},"sourceType":"module"}